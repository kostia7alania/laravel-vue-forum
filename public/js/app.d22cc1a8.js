(function(t){function e(e){for(var o,r,c=e[0],u=e[1],s=e[2],l=0,f=[];l<c.length;l++)r=c[l],a[r]&&f.push(a[r][0]),a[r]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function c(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-2d0c42ff":"926c5fc7","chunk-2d20f743":"601c9a65","chunk-2d21d436":"4381d88c","chunk-2d237ed4":"169ec881","chunk-61201598":"b4cf72c5","chunk-64108462":"e78b557a","chunk-e223da74":"9d1dc2bc","chunk-ef12cfc4":"a86442c1"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-61201598":1,"chunk-64108462":1,"chunk-e223da74":1,"chunk-ef12cfc4":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-2d0c42ff":"31d6cfe0","chunk-2d20f743":"31d6cfe0","chunk-2d21d436":"31d6cfe0","chunk-2d237ed4":"31d6cfe0","chunk-61201598":"8da95a5f","chunk-64108462":"49e21461","chunk-e223da74":"523988c4","chunk-ef12cfc4":"c5f87f00"}[t]+".css",a=u.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===o||l===a))return e()}var f=document.getElementsByTagName("style");for(c=0;c<f.length;c++){s=f[c],l=s.getAttribute("data-href");if(l===o||l===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){r[t]=0}));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise(function(e,n){o=a[t]=[e,n]});e.push(o[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(t),s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"017c":function(t,e,n){var o={"./category.js":"ec85","./global.js":"1a43","./index.js":"7af2","./login.js":"c668","./notification.js":"fe80","./question.js":"7972","./reply.js":"b001","./toolbar.js":"fcf7"};function r(t){var e=a(t);return n(e)}function a(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(o)},r.resolve=a,t.exports=r,r.id="017c"},1:function(t,e){},"1a43":function(t,e,n){"use strict";n.r(e),e["default"]={state:{},getters:{},mutations:{},actions:{}}},"20c9":function(t,e,n){},"22d6":function(t,e,n){"use strict";var o=n("d225"),r=n("b0b4"),a=function(){function t(){Object(o["a"])(this,t)}return Object(r["a"])(t,[{key:"storeToken",value:function(t){return localStorage.setItem("token",t)}},{key:"store",value:function(t){this.storeToken(t)}},{key:"clear",value:function(){localStorage.removeItem("token")}},{key:"getToken",value:function(){return localStorage.getItem("token")}}]),t}();a=new a},"4a75":function(t,e,n){},"52d9":function(t,e,n){"use strict";var o=n("4a75"),r=n.n(o);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=n("bb71");n("da64");o["default"].use(r["a"],{iconfont:"md"});var a=n("a4bb"),i=n.n(a),c=(n("ac6a"),n("774e")),u=n.n(c),s=(n("7514"),n("8c4f"));o["default"].use(s["a"]);var l=[{name:"main",meta:{title:"Main Page - Forum App",metaTags:[{name:"description of main page",content:"The main page of our example app."},{property:"og:description",content:"The content sections of main page of our forum app."}]},path:"/",component:function(){return n.e("chunk-ef12cfc4").then(n.bind(null,"405f"))}},{name:"forum",meta:{title:"Forum"},path:"/forum",component:function(){return n.e("chunk-2d21d436").then(n.bind(null,"d10c"))}},{name:"CategoryQuestions",meta:{title:":slug - Forum Category"},path:"/category/:slug",component:function(){return n.e("chunk-2d21d436").then(n.bind(null,"d10c"))}},{name:"ask",meta:{title:"Create question"},path:"/ask",component:function(){return n.e("chunk-e223da74").then(n.bind(null,"4a37"))}},{name:"signup",meta:{title:"Signup"},path:"/signup",component:function(){return n.e("chunk-2d237ed4").then(n.bind(null,"fccd"))}},{name:"edit-categories",meta:{title:"Edit categories"},path:"/edit-categories",component:function(){return n.e("chunk-61201598").then(n.bind(null,"b761"))}},{name:"login",meta:{title:"Login"},path:"/login",component:function(){return n.e("chunk-2d20f743").then(n.bind(null,"b461"))}},{name:"read",meta:{title:"Article"},path:"/question/:slug",component:function(){return n.e("chunk-2d0c42ff").then(n.bind(null,"3a83"))}},{path:"*",meta:{title:"Page not found!"},component:function(){return n.e("chunk-64108462").then(n.bind(null,"be4d"))}}],f=new s["a"]({routes:l,hashbang:!1,mode:"history"});f.beforeEach(function(t,e,n){var o=t.matched.slice().reverse().find(function(t){return t.meta&&t.meta.title}),r=t.matched.slice().reverse().find(function(t){return t.meta&&t.meta.metaTags});e.matched.slice().reverse().find(function(t){return t.meta&&t.meta.metaTags});if(o&&(document.title=o.meta.title),u()(document.querySelectorAll("[data-vue-router-controlled]")).map(function(t){return t.parentNode.removeChild(t)}),!r)return n();r.meta.metaTags.map(function(t){var e=document.createElement("meta");return i()(t).forEach(function(n){e.setAttribute(n,t[n])}),e.setAttribute("data-vue-router-controlled",""),e}).forEach(function(t){return document.head.appendChild(t)}),n()});var d=f,p=n("eb02"),g=n("9483");Object(g["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var h=n("ce5b"),v=n.n(h),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{staticClass:"app"},[n("toolbar"),n("keep-alive",{attrs:{max:"1"}},[n("router-view",{key:t.$route.fullPath})],1),n("snack"),n("foot-app")],1)},b=[],_=n("cebc"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{attrs:{color:"indigo",dark:"","z-index":"2","data-app":""}},[n("div",{staticClass:"hidden-md-and-up"},[n("v-menu",{attrs:{bottom:"",left:"","z-index":"223"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{dark:"",icon:""}},o),[n("v-icon",[t._v("more_vert")])],1)]}}])},[n("v-list",t._l(t.items,function(e,o){return n("v-list-tile",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:o},[n("v-list-tile-title",[n("v-btn",{attrs:{flat:""}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v(t._s(e.icon))])],1),t._v("\n                          "+t._s(e.title)+"\n                      ")],1)],1)],1)}),1)],1)],1),n("v-toolbar-title",{staticClass:"white--text"},[n("v-icon",[t._v("nature_people")]),t._v(" Форум\n  ")],1),n("v-spacer"),t.loggedIn?n("app-notification"):t._e(),n("div",{staticClass:"hidden-sm-and-down"},t._l(t.items,function(e){return n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:e.title,attrs:{flat:"",to:e.to},on:{click:function(n){!e.to&&t.logout()}}},[n("v-icon",[t._v(t._s(e.icon))]),t._v("\n          "+t._s(e.title)+"\n      ")],1)}),1)],1)},k=[],w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{clsas:"text-xs-center"}},[n("v-menu",{attrs:{"offset-y":""}},[t.noNews?n("v-alert",{staticClass:"ma-0 pa-0",attrs:{value:!0,type:"primary"}},[t._v("\n                Нету новостей\n            ")]):t._e(),n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",{attrs:{color:t.unreadCount?"red":"red lighten-4"}},[t._v("add_alert")]),t._v("\n            "+t._s(t.unreadCount)+"\n        ")],1),n("v-list",{class:t.noAlerts?"ma-0 pa-0":"pb-0"},[t._l(t.unread,function(e){return n("v-list-tile",{key:e.id},[n("router-link",{attrs:{to:e.path}},[n("v-list-tile-title",{on:{click:function(n){return t.markAsRead(e)}}},[t._v(t._s(e.question))])],1)],1)}),t.unreadCount?n("v-divider"):t._e(),t._l(t.read,function(e){return n("v-list-tile",{key:e.id},[n("router-link",{attrs:{to:e.path}},[n("v-list-tile-title",[t._v(t._s(e.question))])],1)],1)}),t.noAlerts?n("v-alert",{staticClass:"ma-0 pa-0",attrs:{value:!0,type:"primary"}},[t._v("\n                Нету оповещений\n            ")]):t._e()],2)],1)],1)},y=[],E=(n("96cf"),n("3b8d")),T=n("2f62"),j={name:"notifics",data:function(){return{inited:!1,sound:"https://www.soundsnap.com/streamers/play.php?id=1554465771.2719:f58b2a1ec50f5a5b79ed74d836d2eaf5a2bb11bf:f25ca3cbbbabc600c18619f588ee0dcca822172413031b9a056fd1630e73ba2c2679ee348c5b56583ca59d4991f14127b8864d3e2470b3f99886768a7d15eec51084495434374d0349db5c4692805249960df3d70666eaeaa184aafadbd04757a4817a0bbe20252aad7a46d82f7af97614d23353e3632e798535b8ccf6e381d8eb2f51bed6cda2c33c7d111a8750e4a031ec38acbd4b8c99a0fb212930aa07b40458547b8fb80d1e020fa595b7fd75bb8f93a0aa1b0a23d595344668f7084bc65d5c3d2941a2afc7e3ed0c18f9bc1cd606a9b8934f8be11fbbf5e42b7c3313d7"}},created:function(){this.getNotifications(),this.initLiveNotifications()},computed:Object(_["a"])({},Object(T["c"])(["login/loggedIn","login/id","notification/read","notification/unread"]),{loggedIn:function(){return this["login/loggedIn"]},noAlerts:function(){return!this.unreadCount&&!this.readCount},noNews:function(){return!this.unreadCount},read:function(){return this["notification/read"]},unread:function(){return this["notification/unread"]},readCount:function(){var t=this.read;return t&&t instanceof Array&&t.length},unreadCount:function(){var t=this.unread;return t&&t instanceof Array&&t.length}}),watch:{loggedIn:function(t,e){alert(""),this.getNotifications(),this.initLiveNotifications()}},methods:Object(_["a"])({},Object(T["b"])(["notification/getNotifications","notification/markAsRead"]),{getNotifications:function(){var t=Object(E["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this["login/loggedIn"]){t.next=5;break}return t.next=3,this["notification/getNotifications"]();case 3:e=t.sent,e?console.log("GET NOTIF: success"):console.warn("GET NOTIF: failed");case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),initLiveNotifications:function(){var t=this;this["login/loggedIn"]&&!this.inited&&(window.playSound=this.playSound,Echo.private("App.User."+this["login/id"]).notification(function(e){console.log("app notif.vue ->",e,e.type),t.playSound(),t.getNotifications(),t.inited=!0}))},playSound:function(){var t=new Audio(this.sound);t.play()},markAsRead:function(t){this["notification/markAsRead"](t)}})},N=j,x=(n("52d9"),n("2877")),A=Object(x["a"])(N,w,y,!1,null,null,null),S=A.exports,P={name:"TOOLbar",components:{AppNotification:S},data:function(){return{}},computed:Object(_["a"])({},Object(T["c"])(["login/loggedIn","toolbar/items"]),{items:function(){return this["toolbar/items"]},loggedIn:function(){return this["login/loggedIn"]}}),methods:Object(_["a"])({},Object(T["b"])(["login/logout"]),{logout:function(){console.log("login/logout"),this["login/logout"]()}})},C=P,R=Object(x["a"])(C,O,k,!1,null,null,null),I=R.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{attrs:{bottom:"bottom"===t.y,left:"left"===t.x,"multi-line":"multi-line"===t.mode,right:"right"===t.x,timeout:t.timeout,top:"top"===t.y,vertical:"vertical"===t.mode,color:t.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+"\n  "),n("v-btn",{attrs:{color:"pink",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close\n  ")])],1)},F=[],D={data:function(){return{snackbar:!1,y:"top",x:null,mode:"",timeout:6e3,text:"Hello, I'm a snackbar",color:"info"}},mounted:function(){var t=this;window.snack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Attention",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";t.text=e,t.color=n,t.snackbar=!0}}},q=D,K=Object(x["a"])(q,L,F,!1,null,null,null),G=K.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{staticClass:"justify-center"},[n("v-card-actions",{staticClass:"justify-center"},[n("v-flex",{attrs:{"lighten-1":"","py-1":"","text-xs-center":"","grey--text":"",xs12:""}},[n("strong",[t._v("ФОРУМ")]),t._v("    ©     "+t._s((new Date).getFullYear())+"\n      ")])],1)],1)},B=[],M={name:"app-footer",data:function(){return{}}},$=M,Q=Object(x["a"])($,U,B,!1,null,null,null),z=Q.exports,J={name:"APP__HOME",components:{toolbar:I,"foot-app":z,snack:G},computed:Object(_["a"])({},Object(T["c"])(["login/TOKEN__isOK"])),mounted:function(){window.app=this,this["login/TOKEN__isOK"]||this["login/logout"]()},methods:Object(_["a"])({},Object(T["b"])(["login/logout"]))},H=J,V=(n("9993"),Object(x["a"])(H,m,b,!1,null,null,null)),Y=V.exports,X=n("0493"),W=n.n(X);n("20c9");window.router=d,window.store=p["a"],o["default"].use(v.a,{theme:{primary:"#3f51b5",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}),n("ba6a"),o["default"].use(W.a),window.md=n("0e54"),window.EventBus=new o["default"],o["default"].config.productionTip=!1,o["default"].config.performance=!0,o["default"].config.devtools=!0,new o["default"]({router:d,store:p["a"],render:function(t){return t(Y)}}).$mount("#app")},7972:function(t,e,n){"use strict";n.r(e);var o=n("6ee6");n("22d6");e["default"]={state:{questions:[],loading:!1},getters:{questions:function(t,e){return t.questions},loading:function(t,e){return t.loading}},mutations:{toggle:function(t,e){var n=e.prop;t[n]=!t[n]},changeProp:function(t,e){var n=e.prop,o=e.val;t[n]=o},changeObj:function(t,e){var n=e.obj,o=e.prop,r=e.val;t[n][o]=r}},actions:{getQuestions:function(t){t.state;var e=t.commit;t.dispatch;return e("changeProp",{prop:"loading",val:!0}),axios.get("question").then(function(t){return e("changeProp",{prop:"questions",val:t.data.data}),t.data}).catch(function(t){return console.warn("ERR in getQuestions => ",t),!1}).finally(function(t){return e("changeProp",{prop:"loading",val:!1}),t})},getQuestionByCategorySlug:function(t,e){t.state;var n=t.commit;t.dispatch;return n("changeProp",{prop:"loading",val:!0}),axios.get("category/".concat(e,"/questions")).then(function(t){return n("changeProp",{prop:"questions",val:t.data.data}),t.data}).catch(function(t){return console.warn("ERR in getQuestions => ",t),!1}).finally(function(t){return n("changeProp",{prop:"loading",val:!1}),t})},createQuestion:function(t,e){return Object(o["a"])(t),axios.post("question",e)},questionUpdate:function(t,e){return Object(o["a"])(t),axios.patch("question/".concat(e.slug),e)}}}},"7af2":function(t,e,n){"use strict";n.r(e);var o=n("cebc"),r=(n("a481"),n("ac6a"),n("bba4")),a=n.n(r),i=n("017c"),c={};i.keys().forEach(function(t){if("./index.js"!==t){var e=a()(t.replace(/(\.\/|\.js)/g,""));c[e]=Object(o["a"])({namespaced:!0},i(t).default)}}),e["default"]=c},9993:function(t,e,n){"use strict";var o=n("c352"),r=n.n(o);r.a},b001:function(t,e,n){"use strict";n.r(e);n("22d6");e["default"]={state:{replies:{},loading:!1,slug:null,draft:{}},getters:{GETTER_TOPIC_REPLIES:function(t,e){return t.slug in t.replies?t.replies[t.slug]:[]},GETTER_TOPIC_DRAFT:function(t,e){return t.slug in t.draft?t.draft[t.slug]:""},loading:function(t){return t.loading}},mutations:{appendObj:function(t,e){var n=e.obj,o=e.prop,r=e.val;!(o in t[n])&&(t[n][o]=[]),t[n][o].push(r)},SET_LOADING_ON:function(t){t.loading=!0},SET_LOADING_OFF:function(t){t.loading=!1},SET_TOPIC_REPLIES:function(t,e){var n=e.prop,o=e.val;t.replies[n]=o},APPEND_TOPIC_REPLY:function(t,e){var n=e.slug,o=e.obj;t.replies[n].push(o)},SET_SLUG:function(t,e){t.slug=e},SET_TOPIC_DRAFT:function(t,e){t.draft[t.slug]=e},CLEAR_TOPIC_DRAFT:function(t,e){t.draft[e]=val}},actions:{newReply:function(t,e){var n=t.state,o=t.commit,r=(t.dispatch,e.body),a=n.slug;return axios.post("question/".concat(a,"/reply"),{body:r}).then(function(t){return o("APPEND_TOPIC_REPLY",{slug:a,obj:t.data.Reply}),o("CLEAR_TOPIC_DRAFT",a),!0}).catch(function(t){return console.warn("[STORE] [catch] newReply => ",t),!1})},getReplies:function(t){t.state;var e=t.commit,n=(t.dispatch,t.getters,router.history.current.params.slug);return e("SET_SLUG",n),n?(e("SET_LOADING_ON"),axios.get("question/".concat(n,"/reply")).then(function(t){return e("SET_TOPIC_REPLIES",{prop:n,val:t.data.data}),{stat:!0,msg:t.data}}).catch(function(t){return console.warn("ERR in getReplies => ",t),{stat:!1,msg:t}}).finally(function(t){return e("SET_LOADING_OFF"),t})):{stat:!1,msg:"Неверные параметры для отображения комментариев"}}}}},ba6a:function(t,e,n){"use strict";n.r(e);var o=n("5638"),r=n("bc3a");window.axios=r.create({baseURL:"http://127.0.0.1:8000/api",headers:{common:{"X-Requested-With":"XMLHttpRequest",Authorization:"Bearer ".concat(store.state.login.token)}}}),window.Pusher=n("782e"),window.Echo=new o["a"]({broadcaster:"pusher",key:"7b08572e181a32553e9a",cluster:"eu",encrypted:!0,auth:{headers:{Authorization:store.state.login.token}}}),Pusher.logToConsole=!0},c352:function(t,e,n){},c668:function(t,e,n){"use strict";n.r(e);n("96cf");var o=n("3b8d"),r=(n("7f7f"),n("673e"),n("cebc"));n("28a5"),n("a481");e["default"]={state:{token:null,tokenValidation:{iss:"http://localhost/api/auth/login"},user:{role:!1,name:null},loading:!1},getters:{TOKEN__isValid:function(t,e){var n=function(t){try{return btoa(atob(t)).replace(/=/g,"")==t}catch(e){return!1}},o=function(t){return!!n(t)&&JSON.parse(atob(t))},r=t.token,a="string"==typeof r&&o(r.split(".")[1]);return!!a},TOKEN__isExpired:function(t,e){if(e.TOKEN__parse)return new Date>1e3*e.TOKEN__parse.exp},TOKEN__parse:function(t,e){if(e.TOKEN__isValid){var n=t.token.split(".");return Object(r["a"])({},JSON.parse(atob(n[0])),JSON.parse(atob(n[1])))}},TOKEN__isOK:function(t,e){return!e.TOKEN__isExpired&&e.TOKEN__isValid},id:function(t,e){if(e.TOKEN__parse)return e.TOKEN__parse.sub},isAdmin:function(t,e){return e.TOKEN__isOK&&1==t.user.role},isUser:function(t,e){return e.TOKEN__isOK&&(null===t.user.role||0===t.user.role)},username:function(t,e){return t.user.name},loggedIn:function(t,e){return e.isUser||e.isAdmin}},mutations:{toggle:function(t,e){var n=e.prop;t[n]=!t[n]},changeProp:function(t,e){var n=e.prop,o=e.val;t[n]=o},changeObj:function(t,e){var n=e.obj,o=e.prop,r=e.val;t[n][o]=r},SET_LOADING_ON:function(t){t.loading=!0},SET_LOADING_OFF:function(t){t.loading=!1}},actions:{login:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.state,o=e.commit,e.dispatch,o("SET_LOADING_ON"),t.abrupt("return",axios.post("auth/login",n).then(function(t){var e=t.data.access_token;return o("changeProp",{prop:"token",val:e}),o("changeObj",{obj:"user",prop:"role",val:t.data.role}),window.axios.defaults.headers.common["Authorization"]="Bearer ".concat(e),!0}).catch(function(){return!1}).finally(function(){return o("SET_LOADING_OFF")}));case 3:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),register:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,n){var o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=e.commit,o("SET_LOADING_ON"),t.abrupt("return",axios.post("auth/signup",n).then(function(t){var e=t.data.access_token;return o("changeProp",{prop:"token",val:e}),o("changeObj",{obj:"user",prop:"role",val:t.data.role}),!0}).catch(function(t){return t.response.data.errors}).finally(function(){return o("SET_LOADING_OFF")}));case 3:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),logout:function(t){var e=t.commit;e("changeProp",{prop:"token",val:null}),e("changeProp",{prop:"user",val:{}})}}}},eb02:function(t,e,n){"use strict";var o=n("2b0e"),r=n("2f62"),a=n("7af2"),i=n("bfa9"),c=new i["a"]({storage:window.localStorage});o["default"].use(r["a"]),window.store=new r["a"].Store({plugins:[c.plugin],modules:a["default"]}),e["a"]=store},ec85:function(t,e,n){"use strict";n.r(e);var o=n("6ee6"),r=(n("96cf"),n("3b8d"));n("22d6");e["default"]={state:{categories:[],loading:!1},getters:{categories:function(t,e,n,o){t.state,t.getters;return n.category.categories},loading:function(t,e,n,o){t.state,t.getters;return n.category.loading}},mutations:{changeProp:function(t,e){var n=e.prop,o=e.val;t[n]=o},SET_LOADING_ON:function(t){t.loading=!0},SET_LOADING_OFF:function(t){t.loading=!1}},actions:{getCategories:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n("SET_LOADING_ON"),t.abrupt("return",axios.get("category").then(function(t){return n("changeProp",{prop:"categories",val:t.data.data})}).catch(function(t){console.warn("ERR in getCategories => ",t)}).finally(function(t){return n("SET_LOADING_OFF")}));case 3:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),createCategory:function(t,e){var n=t.dispatch;return axios.post("category",e).then(function(){return n("getCategories"),!0})},deleteCategory:function(t,e){return Object(o["a"])(t),axios.delete("category/".concat(e))},updateCategory:function(t,e){t.rootState;var n=e.slug,o=e.form;return axios.patch("category/".concat(n),o)}}}},fcf7:function(t,e,n){"use strict";n.r(e);n("22d6");e["default"]={state:{},getters:{items:function(t,e,n,o){t.state,t.getters;console.warn(arguments);var r=o["login/isAdmin"],a=o["login/isUser"],i=r||a;return[{title:"Forum",to:"/forum",icon:"question_answer",show:!0},{title:"Ask question",to:"/ask",icon:"plus_one",show:i},{title:"Edit categories",to:"/edit-categories",icon:"bookmarks",show:!0},{title:"Login",to:"/login",icon:"person",show:!i},{title:"Logout",icon:"exit_to_app",show:i}]}}}},fe80:function(t,e,n){"use strict";n.r(e);n("22d6"),n("eb02");e["default"]={state:{notifications:{}},getters:{read:function(t,e){var n=t.notifications;return n&&n&&n.read},unread:function(t,e){var n=t.notifications;return n&&n&&n.unread}},mutations:{toggle:function(t,e){var n=e.prop;t[n]=!t[n]},changeProp:function(t,e){var n=e.prop,o=e.val;t[n]=o},changeObj:function(t,e){var n=e.obj,o=e.prop,r=e.val;t[n][o]=r},spliceObj:function(t,e){var n=e.notification;t.notifications.unread.splice(n,1)}},actions:{getNotifications:function(t,e){t.state;var n=t.commit;t.dispatch;return axios.post("notifications").then(function(t){return n("changeProp",{prop:"notifications",val:{read:t.data.read,unread:t.data.unread}}),!0}).catch(function(t){return console.warn("[STORE][getNotifications] err =>",t),!1})},markAsRead:function(t,e){t.state;var n=t.commit;t.dispatch;return axios.post("markAsRead",{id:e.id}).then(function(t){return n("changeObj",{obj:"notifications",prop:"read",val:e}),n("spliceObj",{notification:e}),!0}).catch(function(t){console.warn("[STORE][markAsRead] err =>",t)})}}}}});
//# sourceMappingURL=app.d22cc1a8.js.map